<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [MSEide-MSEgui-talk] inconsistency value when undo in t*edit	(by press ESCAPE key)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mseide-msegui-talk/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:mseide-msegui-talk%40lists.berlios.de?Subject=Re%3A%20%5BMSEide-MSEgui-talk%5D%20inconsistency%20value%20when%20undo%20in%20t%2Aedit%0A%09%28by%20press%20ESCAPE%20key%29&In-Reply-To=%3Ci53lpv%24cao%241%40dough.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000816.html">
   <LINK REL="Next"  HREF="000822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[MSEide-MSEgui-talk] inconsistency value when undo in t*edit	(by press ESCAPE key)</H1>
    <B>Martin Schreiber</B> 
    <A HREF="mailto:mseide-msegui-talk%40lists.berlios.de?Subject=Re%3A%20%5BMSEide-MSEgui-talk%5D%20inconsistency%20value%20when%20undo%20in%20t%2Aedit%0A%09%28by%20press%20ESCAPE%20key%29&In-Reply-To=%3Ci53lpv%24cao%241%40dough.gmane.org%3E"
       TITLE="[MSEide-MSEgui-talk] inconsistency value when undo in t*edit	(by press ESCAPE key)">mse00000 at gmail.com
       </A><BR>
    <I>Wed Aug 25 20:03:00 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000816.html">[MSEide-MSEgui-talk] inconsistency value when undo in t*edit	(by press ESCAPE key)
</A></li>
        <LI>Next message: <A HREF="000822.html">[MSEide-MSEgui-talk] inconsistency value when undo in t*edit (by press ESCAPE key)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#817">[ date ]</a>
              <a href="thread.html#817">[ thread ]</a>
              <a href="subject.html#817">[ subject ]</a>
              <a href="author.html#817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>dan wrote:

&gt;<i> step to procedure:
</I>&gt;<i> 1. put two t*edit (ex: trealedit1 and trealedit2)
</I>&gt;<i> 2. set their oe_undoonesc to true (default)
</I>&gt;<i> 3. put a tlabel (ex:tlabel1)
</I>&gt;<i> 4. set code in event ontextedited for trealedit1:
</I>&gt;<i> tlabel1.caption:= trealedit1.text
</I>&gt;<i> 
</I>&gt;<i> run:
</I>&gt;<i> focus to trealedit1, set value to 1234 ( tlabel1 is 1234 too)
</I>&gt;<i> focus to trealedit2, and
</I>&gt;<i> back focus to trealedit1
</I>&gt;<i> set trealedit1 value's to 2345, and press ESC key (tlabel1 is should
</I>&gt;<i> be back to 1234)
</I>&gt;<i> 
</I>The purpose of ontextedited is to react and modify user key entries. You
think it should be triggered by tinplaceedit.undo also? I am not sure
about. Restoring an unedited value is not the same as typing text.
Additionally it should not be possible to modify the restored backup value
in an event because then it can be that data validation fails and it is not
possible to defocus an edit widget after pressing Esc.

&gt;<i> when ESC key pressed, trealedit.editor.text is changed, but not
</I>&gt;<i> trealedit.text (IMO, this is a point the problem)
</I>&gt;<i> 
</I>trealedit.text is tinplaceedit.text:
&quot;
 tcustomedit = class(tpublishedwidget,iedit)
[...]
  public
[...]
   property text: msestring read gettext write settext;
[...]

function tcustomedit.gettext: msestring;
begin
 result:= feditor.text;
end;
&quot;
&gt;<i> and could fbackup variable in tinplaceedit is published like text and
</I>&gt;<i> oldtext (something i want to use)?
</I>&gt;<i> 
</I>What do you want to do? Why do you need ontextedited, text and backup
properties? I would like to understand before I make changes.
Normally one uses onsetvalue or ondataentered, I *never* used ontextedited
up to now...

Martin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000816.html">[MSEide-MSEgui-talk] inconsistency value when undo in t*edit	(by press ESCAPE key)
</A></li>
	<LI>Next message: <A HREF="000822.html">[MSEide-MSEgui-talk] inconsistency value when undo in t*edit (by press ESCAPE key)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#817">[ date ]</a>
              <a href="thread.html#817">[ thread ]</a>
              <a href="subject.html#817">[ subject ]</a>
              <a href="author.html#817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mseide-msegui-talk">More information about the MSEide-MSEgui-talk
mailing list</a><br>
</body></html>
